[Unit]
Description = library checker judge
Requires = docker.service
After = docker.service
Requires = cloudsql.service
After = cloudsql.service

[Service]
Environment=LIBRARY_CHECKER_JUDGE=true
Environment=CGROUP_PARENT=judge.slice
Environment=STORAGE_PRIVATE_BUCKET=${storage_private_bucket}
Environment=STORAGE_PUBLIC_BUCKET=${storage_public_bucket}
Environment=PGUSER=${pg_user}
ExecStart = /root/judge

Restart = always
Type = simple

[Install]
WantedBy = multi-user.target
